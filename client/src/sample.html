<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" type="text/css" href="/static/css/style.css">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
        <title>Webcam and File Upload Example</title>
    </head>
    <body>
        <div>
            <img src="/static//images/1729945640767.jpg" width="286" height="350"> <!-- height="500"-->
            <a href="/delete/1729945640767.jpg"  class="btn btn-danger mt-5">X</a>
            <p class="text-dark"><b>Heart</b></p>
        </div>
        <div>
            <table class="table table-borderless text-center">
                <tr>
                    <td>
                        <img class="tags" id="1" src="/static//earrings/desert8.png" width="200" height="200"> <!-- height="400"-->
                    </td>
                </tr>
                <tr>
                    <td class="text-capitalize"><b>desert</b></td>
                </tr>
            </table>
        </div>
        <div class="container mt-5">
            <!--<h2 class="mb-4">Access Webcam or Upload File</h2>
                <div class="col-md-6">
                    <button class="btn btn-primary btn-block">Access Webcam</button>
                    <video id="webcam" class="mt-3" width="100%" height="auto" style="display:none;"></video>
                </div>-->
            <div class="row">
                <div class="col-3"></div>
                <div class="col-6">
                    <form id="formData" action="/predict" method="post" enctype="multipart/form-data">
                        <input type="file" class="form-control-file mt-3" id="fileUpload" name="file" accept="image/*, video/*">
                        <button class="btn btn-primary btn-block mt-3" type="button" onclick="uploadFile()">Upload File</button>
                        <p id="errormsg" class="text-danger"></p>
                    </form>
                </div>
            </div>
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="https://unpkg.com/feather-icons"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" integrity="sha512-BNaRQnYJYiPSqHHDb58B0yaPfCu+Wgds8Gp/gU33kqBtgNS4tSPHuGibyoeqMV/TJlSKda6FXzoEyYGjTe+vXA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="/static/js/main.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/handpose"></script>
        <script>
            //async function startWebcam() {
                //var pythonScriptPath = "testModel.py";
                //subprocess.run(["python", pythonScriptPath]);
                // const video = document.getElementById('webcam');
                // const constraints = { video: true };
                // try {
                //     const stream = await navigator.mediaDevices.getUserMedia(constraints);
                //     video.srcObject = stream;
                //     video.style.display = 'block';
                // } catch(err) {
                //     console.error('Error accessing webcam:', err);
                // }
            //}
            // $(".tags").mouseover(function(){
               // alert(this.id)
            //})
        </script>
        <script>
            function uploadFile() {
                const fileInput = document.getElementById('fileUpload');
                const file = fileInput.files[0];
                if (file) {
                    document.getElementById('formData').submit();
                    console.log('Selected file:', file.name);
                } else {
                    document.getElementById("errormsg").innerHTML = "Please upload   a file"
                }
            }
        </script>
    </body>
</html>